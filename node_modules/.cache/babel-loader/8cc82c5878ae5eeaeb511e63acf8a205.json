{"ast":null,"code":"import _objectSpread from\"/Users/amyposten/Development/code/Phase_3/Phase3Project/phase-3-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/amyposten/Development/code/Phase_3/Phase3Project/phase-3-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Addloan(_ref){var setLoans=_ref.setLoans,person=_ref.person;console.log(person.loans);var history=useHistory();var _useState=useState({name:'',item_type:'',cost:0,interest_rate:0,person_id:person.id,term:0}),_useState2=_slicedToArray(_useState,2),newLoan1=_useState2[0],setNewLoan1=_useState2[1];function collectNewLoan(e){e.preventDefault();fetch('https://loanmanagizerapi.herokuapp.com/items',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newLoan1)}).then(function(r){return r.json();}).then(function(data){return postLoan(_objectSpread(_objectSpread({},newLoan1),{},{item_id:data.id}));});e.target.reset();}function postLoan(newLoan1){fetch('https://loanmanagizerapi.herokuapp.com/loans',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newLoan1)}).then(function(r){return r.json();}).then(function(data){return setLoans(data);});}return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:person.id!==undefined?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Purchase\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:collectNewLoan,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNewLoan1(_objectSpread(_objectSpread({},newLoan1),{},{name:e.target.value}));},type:\"text\",name:\"item_name\",placeholder:\"Item Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNewLoan1(_objectSpread(_objectSpread({},newLoan1),{},{item_type:e.target.value}));},type:\"text\",name:\"item_type\",placeholder:\"Item Type\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNewLoan1(_objectSpread(_objectSpread({},newLoan1),{},{cost:e.target.value}));},type:\"number\",name:\"cost\",placeholder:\"Price\"})]}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNewLoan1(_objectSpread(_objectSpread({},newLoan1),{},{interest_rate:e.target.value}));},type:\"number\",name:\"interest_rate\",placeholder:\"Interest Rate\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNewLoan1(_objectSpread(_objectSpread({},newLoan1),{},{term:e.target.value}));},type:\"number\",name:\"term\",placeholder:\"Term\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Please log in to add new loan!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Log in\"})})]})});}export default Addloan;","map":{"version":3,"sources":["/Users/amyposten/Development/code/Phase_3/Phase3Project/phase-3-project-frontend/src/components/Addloan.js"],"names":["React","useState","Link","useHistory","Addloan","setLoans","person","console","log","loans","history","name","item_type","cost","interest_rate","person_id","id","term","newLoan1","setNewLoan1","collectNewLoan","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","data","postLoan","item_id","target","reset","undefined","value"],"mappings":"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","sourcesContent":["import React from \"react\" \nimport {useState} from \"react\"\nimport { Link } from \"react-router-dom\";\nimport {useHistory} from 'react-router-dom'\nfunction Addloan({setLoans, person}){\n    console.log(person.loans)\nlet history =useHistory();\nconst [newLoan1, setNewLoan1] = useState( {\n    name: '',\n    item_type:'',\n    cost:0,\n    interest_rate: 0,\n    person_id: person.id,\n    term: 0\n})\n function collectNewLoan(e){\n        e.preventDefault()\n        fetch('https://loanmanagizerapi.herokuapp.com/items', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(newLoan1)\n          }).then(r => r.json())\n          .then(data => \n              postLoan({...newLoan1, item_id: data.id}))\n        e.target.reset()\n        \n    }\n\n    function postLoan(newLoan1){\n      fetch('https://loanmanagizerapi.herokuapp.com/loans', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newLoan1)\n      })\n      .then(r => r.json())\n      .then(data => setLoans(data))\n      \n      }\n    return(\n        <div className=\"content\">\n            {(person.id!== undefined)?\n            <div>\n        \n       <h2>New Purchase</h2>\n       <form onSubmit={collectNewLoan}>\n        <p>\n        <input onChange={e=>setNewLoan1({...newLoan1, name:e.target.value})} type=\"text\" name=\"item_name\" placeholder=\"Item Name\"/>\n        <input onChange={e=>setNewLoan1({...newLoan1, item_type:e.target.value})} type=\"text\" name=\"item_type\" placeholder=\"Item Type\" />\n        <input onChange={e=>setNewLoan1({...newLoan1, cost:e.target.value})} type=\"number\" name=\"cost\" placeholder=\"Price\" />\n        </p>\n        <input onChange={e=>setNewLoan1({...newLoan1, interest_rate:e.target.value})} type=\"number\" name=\"interest_rate\" placeholder=\"Interest Rate\" />\n        <input onChange={e=>setNewLoan1({...newLoan1, term:e.target.value})} type=\"number\" name=\"term\" placeholder=\"Term\" />\n        <button type=\"submit\">Submit</button>\n      </form>\n      </div>\n      : <div>\n          <h3>Please log in to add new loan!</h3> \n          <Link to='/'><button>Log in</button></Link>\n          </div>}\n        </div>\n    )\n}\nexport default Addloan;"]},"metadata":{},"sourceType":"module"}