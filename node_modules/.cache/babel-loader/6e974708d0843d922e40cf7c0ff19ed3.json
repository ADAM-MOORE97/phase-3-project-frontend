{"ast":null,"code":"import _slicedToArray from\"/Users/amyposten/Development/code/Phase_3/Phase3Project/phase-3-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Loan from\"./Loan\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Loanlist(_ref){var loans=_ref.loans,person=_ref.person,postPayment=_ref.postPayment,setPerson=_ref.setPerson,setLoans=_ref.setLoans;var _useState=useState(loans),_useState2=_slicedToArray(_useState,2),loanState=_useState2[0],setLoanState=_useState2[1];function deleteLoan(loanvalue){if(loanvalue.current_value===0){fetch(\"https://loanmanagizerapi.herokuapp.com/\".concat(loanvalue.id),{method:\"DELETE\"}).then(function(r){return r.json();}).then(function(data){setLoanState(data);setLoans(data);});}}var singleloan=loanState.map(function(loan){return/*#__PURE__*/_jsx(Loan,{name:loan.item.name,currentValue:loan.current_value,item:loan.item,loan:loan,postPayment:postPayment,interest_rate:loan.interest_rate,setPerson:setPerson,person:person,deleteLoan:deleteLoan,className:\"loan\"},loan.id);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"...\"}),/*#__PURE__*/_jsx(\"div\",{children:loanState[0]!==undefined?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:singleloan})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Please log in to see your list of loans!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Log in\"})})]})})]});}export default Loanlist;","map":{"version":3,"sources":["/Users/amyposten/Development/code/Phase_3/Phase3Project/phase-3-project-frontend/src/components/Loanlist.js"],"names":["React","useState","useEffect","Loan","Link","Loanlist","loans","person","postPayment","setPerson","setLoans","loanState","setLoanState","deleteLoan","loanvalue","current_value","fetch","id","method","then","r","json","data","singleloan","map","loan","item","name","interest_rate","undefined"],"mappings":"uMAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IACA,QAASC,CAAAA,QAAT,MAAoE,IAAjDC,CAAAA,KAAiD,MAAjDA,KAAiD,CAA3CC,MAA2C,MAA3CA,MAA2C,CAAnCC,WAAmC,MAAnCA,WAAmC,CAAtBC,SAAsB,MAAtBA,SAAsB,CAAXC,QAAW,MAAXA,QAAW,CAChE,cAAkCT,QAAQ,CAACK,KAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACD,QAASC,CAAAA,UAAT,CAAoBC,SAApB,CAA8B,CAC7B,GAAIA,SAAS,CAACC,aAAV,GAA4B,CAAhC,CAAkC,CAC9BC,KAAK,kDAA2CF,SAAS,CAACG,EAArD,EAA2D,CAC5DC,MAAM,CAAE,QADoD,CAA3D,CAAL,CAIGC,IAJH,CAIQ,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACC,IAAF,EAAF,EAJT,EAKGF,IALH,CAKQ,SAAAG,IAAI,CAAE,CACRV,YAAY,CAACU,IAAD,CAAZ,CACEZ,QAAQ,CAACY,IAAD,CAAR,CAAe,CAPvB,EAUA,CACJ,CACE,GAAIC,CAAAA,UAAU,CAAGZ,SAAS,CAACa,GAAV,CAAc,SAACC,IAAD,CAAQ,CACnC,mBAAO,KAAC,IAAD,EAEP,IAAI,CAAGA,IAAI,CAACC,IAAL,CAAUC,IAFV,CAGP,YAAY,CAAIF,IAAI,CAACV,aAHd,CAIP,IAAI,CAAEU,IAAI,CAACC,IAJJ,CAKP,IAAI,CAAGD,IALA,CAMP,WAAW,CAAEjB,WANN,CAOP,aAAa,CAAEiB,IAAI,CAACG,aAPb,CAQP,SAAS,CAAEnB,SARJ,CASP,MAAM,CAAEF,MATD,CAUP,UAAU,CAAEM,UAVL,CAWP,SAAS,CAAC,MAXH,EACFY,IAAI,CAACR,EADH,CAAP,CAaH,CAdgB,CAAjB,CAgBN,mBACI,wCACA,2BADA,cAEA,qBACGN,SAAS,CAAC,CAAD,CAAT,GAAekB,SAAhB,cACF,kCAEG,qBAAMN,UAAN,EAFH,EADE,cAKF,oCACA,gEADA,cAEA,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,kCAAb,EAFA,GANA,EAFA,GADJ,CAeE,CACF,cAAelB,CAAAA,QAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Loan from \"./Loan\";\nimport { Link } from \"react-router-dom\";\nfunction Loanlist({loans,person, postPayment, setPerson, setLoans}) {\n    const [loanState, setLoanState] = useState(loans)\n   function deleteLoan(loanvalue){\n    if (loanvalue.current_value === 0){\n        fetch(`https://loanmanagizerapi.herokuapp.com/${loanvalue.id}`, {\n            method: \"DELETE\",\n            \n          })\n          .then(r=>r.json())\n          .then(data=>{\n              setLoanState(data);\n                setLoans(data)})\n          \n        \n       }\n   }\n      let singleloan = loanState.map((loan)=>{\n          return <Loan\n          key={loan.id}\n          name= {loan.item.name}\n          currentValue = {loan.current_value}\n          item={loan.item}\n          loan= {loan}\n          postPayment={postPayment}\n          interest_rate={loan.interest_rate}\n          setPerson={setPerson}\n          person={person}\n          deleteLoan={deleteLoan}\n          className=\"loan\"\n          />\n      })\n      \nreturn(\n    <>\n    <h1>...</h1>\n    <div>\n    { (loanState[0]!==undefined)?\n    <div>\n        {/* <h1>Loan list</h1> */}\n       <div>{singleloan}</div>\n    </div>:\n    <div>\n    <h3>Please log in to see your list of loans!</h3> \n    <Link to='/'><button>Log in</button></Link>\n    </div>}\n    </div>\n    </>\n)}\nexport default Loanlist;"]},"metadata":{},"sourceType":"module"}